
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ø–∞—Å—Ç–∏—Å—å –Ω–∞ 8 –º–∞—Ä—Ç–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script> 
    <link rel="stylesheet" href="main.css">  
    <script src="questions.js"></script>        
</head>
<body>

<audio loop id="audioMain">
    <source src="music/main-asia.mp3" type="audio/mpeg">    
    –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.
</audio>

<audio loop id="audioWin">
    <source src="music/win.mp3" type="audio/mpeg">    
    –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.
</audio>

<audio loop id="audioTenQuestion">
    <source src="music/239084_10_question.mp3" type="audio/mpeg">    
    –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.
</audio>

<div id = "start-screen-id" class="start-screen">
    <div>        
        <div class="image-start-screen" style="margin-top: 350px;">            
            <img src="pic/game_title.png" alt="game_title_pic">
        </div>               
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="start-game" class="button-common button-common-327">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>      
        </div>
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="show-rules" class="button-common button-common-rules">–ß–∏—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞</button>      
        </div>       
    </div>   
</div>

<div id = "rules-screen-id" class="rules-screen">
    <div>        
        <div class="image-rules-screen">            
            <img src="pic/shark_2.png" style="margin-top: 40px;" alt="rules_screen_shark_pic">
        </div>               
        <div class="title_25_circe_extra_bold_red_allcaps">
            <p>–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</p>
        </div>        
        <div class="rules-screen-body">
            <br>
                –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ! üéâ.<br>
                <br>
                –í–µ—Å–µ–Ω–Ω–∏–π –∫–≤–∏–∑ –æ—Ç –ú–∏—Ä—ã –°—É—à–∏ ‚Äì —ç—Ç–æ –∏–≥—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ¬´–ö—Ç–æ —Ö–æ—á–µ—Ç —Å—Ç–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º¬ª.<br>
                <br>
                –ó–∞ –∫–∞–∂–¥—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç —Ç—ã –ø–æ–ª—É—á–∏—à—å –±–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã. 
                –ü–æ—Å–ª–µ 4 –∏ 8 –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–µ–±—è –∂–¥–µ—Ç ¬´–Ω–µ—Å–≥–æ—Ä–∞–µ–º–∞—è —Å—É–º–º–∞¬ª: –º–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –ø—Ä–∏–∑ –∏ –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã –∫—Ä–∞—Å–∏–≤–æ (–ø—Ä—è–º –∫–∞–∫ –≤ –ø–µ—Å–Ω–µ –ú–µ–ª–∞–¥–∑–µ), –∞ –º–æ–∂–Ω–æ —Ä–∏—Å–∫–Ω—É—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å –∫ –ø–æ–±–µ–¥–µ. <br>
                <br>
                <b>–¢–æ—Ç, –∫—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ 10 –≤–æ–ø—Ä–æ—Å, –∑–∞–±–µ—Ä–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑ –æ—Ç –ú–∏—Ä–∞ –°—É—à–∏. <br>
        </div>        
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="start-game2" class="button-common button-common-327">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>      
        </div>
    </div>   
</div>

<div id = "main_questions_screen_id" class="main_questions_screen">
    <div>
        <div class="ved_timer">
            <div class="image-main-screen-cat">            
                <img src="pic/shark_3.png" alt="shark_3_pic">
            </div>
            <div class="timer-body" style="margin-top: 60px;">
                <div class="timer-text" id="timer">0</div>
            </div>           
        </div>
        
       <div class="bg_little_gs">
            <div id="question_number_id" style="flex-grow: 1; display: inline-block; margin-left: 30px;">4/10</div>
            <div id="question_prize_id" style="flex-grow: 1; display: inline-block; margin-left: auto; margin-right: 30px;">80 –ë–ê–õ–õ–û–í</div>
        </div>
                
        <div  class="question-body"> 
            <div id="question-text-id" style="margin-top: 50px;">—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞</div>
        </div>    
                
        <div class="hints">
            <button class="btn-main-screen-hint" data-hint="5050">
                <img src="pic/50.png" alt="50_50_pic">
            </button>
            <button class="btn-main-screen-hint" data-hint="friend">
                <img src="pic/gs_logo.png" alt="sushi_pic">
            </button>
            <button id="show-results" class="btn-main-screen-hint">
                <img src="pic/show_results.png" alt="show_result_pic">
            </button>
            <button id="music-off" class="btn-main-screen-hint">
                <img id="music-icon" src="pic/sound_pic_on.png" alt="sound_pic_on">
            </button>            
        </div>
        
        <div class="game">                        
            <div class="question-container">                
                <div class="answers"></div>
            </div>                       
        </div>                        
    </div>
</div>

<div id = "game_stage_screen_id" class="game_stage_screen">
    <div class="question-list-conteiner">
        <div class="modal-footer">
            <div class="question-list-item">
                <div style="margin-left: 40px; margin-top: 12px;">1</div>
                <div style="margin-left: 100px; margin-top: 12px;">20 –ë–ê–õ–õ–û–í</div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item">
                <div style="margin-left: 40px; margin-top: 12px;">2</div>
                <div style="margin-left: 100px; margin-top: 12px;">40 –ë–ê–õ–õ–û–í</div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item">
                <div style="margin-left: 40px; margin-top: 12px;">3</div>
                <div style="margin-left: 100px; margin-top: 12px;">60 –ë–ê–õ–õ–û–í</div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item fireproof">
                <div style="margin-left: 40px; margin-top: 12px;">4</div>
                <img src="pic/balls_pic.png" alt="Icon" class="icon" style="margin-left: 50px; width: 30px; height: 30px; margin-top: 8px;">
                <div style="margin-left: 10px; margin-top: 12px;">80 –ë–ê–õ–õ–û–í</div>                
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item">
                <div style="margin-left: 40px; margin-top: 12px;">5</div>
                <div style="margin-left: 100px; margin-top: 12px;">100 –ë–ê–õ–õ–û–í</div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item">
                <div style="margin-left: 40px; margin-top: 12px;">6</div>
                <div style="margin-left: 100px; margin-top: 12px;">120 –ë–ê–õ–õ–û–í</div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item">
                <div style="margin-left: 40px; margin-top: 12px;">7</div>
                <div style="margin-left: 100px; margin-top: 12px;">140 –ë–ê–õ–õ–û–í</div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item fireproof">
                <div style="margin-left: 40px; margin-top: 12px;">8</div>
                <img src="pic/balls_pic.png" alt="Icon" class="icon" style="margin-left: 50px; width: 30px; height: 30px; margin-top: 8px;">
                <div style="margin-left: 10px; margin-top: 12px;">160 –ë–ê–õ–õ–û–í</div>                
            </div>
        </div>
       
        <div class="modal-footer">
            <div class="question-list-item">
                <div style="margin-left: 40px; margin-top: 12px;">9</div>
                <div style="margin-left: 100px; margin-top: 12px;">180 –ë–ê–õ–õ–û–í</div>
            </div>
        </div>
        <div class="modal-footer">
            <div class="question-list-item fireproof">
                <div style="margin-left: 40px; margin-top: 12px;">10</div>
                <img src="pic/balls_pic.png" alt="Icon" class="icon" style="margin-left: 50px; width: 30px; height: 30px; margin-top: 8px;">
                <div style="margin-left: 10px; margin-top: 12px;">300 –ë–ê–õ–õ–û–í</div>
                
            </div>
        </div>

    </div>
    <div class="modal-footer">            
        <button id="return-game-button2" class="button-common button-common-327" style="margin-top: 20px;">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∏–≥—Ä–µ</button>            
    </div>
</div>

<div id="—Åongratulations-dialogue" class="modal-dialog">
    <div class="modal-content">
        <div class="modal-image">            
            <img id="modal-image-pic" src="pic/shark_win.png" alt="modal_image_pic">
        </div> 
        <div id="modal-header-id" class="title_25_circe_extra_bold_red_allcaps">
            <p>–ü–æ–∑–¥—Ä–∞–≤–ª–µ–º!</p>
        </div>
        <div id='modal-text' class="rules-screen-body" style="margin-top: 20px;">
            <p> –¢—ã –¥–æ—à–µ–ª –¥–æ –ø–µ—Ä–≤–æ–π –Ω–µ—Å–≥–æ—Ä–∞–µ–º–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏! –ó–∞–±–∏—Ä–∞–µ—à—å –±–∞–ª–ª—ã –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—à—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –≤–æ—è–∂?</p>
        </div>
        <div id = "modal-footer-bronze-silver" class="modal-footer" style="margin-top: 20px;">
            <button type="button" id="btn-modal-dialog-take-prize-bronze-silver" class="button-common button-common-prize">–ü—Ä–∏–∑</button>           
            <button id="continue-game-btn" class="button-common button-common-next">–î–∞–ª—å—à–µ</button>
        </div>
        <div class="modal-footer-gold hidden" style="margin-top: 20px;">
            <button type="button" id="btn-modal-dialog-take-prize-gold" class="button-common button-common-327">–ó–∞–±—Ä–∞—Ç—å –ø—Ä–∏–∑</button>                       
        </div>        
    </div>
</div>

<div id="sharkhint" class="shark-hint-dialog">
    <div>
        <div class="modal-image">            
            <img src="pic/shark_4.png" alt="shark_hint_pic">
        </div>       

         <div class="modal-footer" style="margin-top: 20px;">            
            <button class="button-common button-common-327">–ü–æ–¥—Å–∫–∞–∑–∫–∞</button>      
        </div>

        <div id="mistersu-hint-text" class="help-body"> 
            <p>–¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏</p>
        </div> 
               
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="return-game-button" class="return-game-button_body">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∏–≥—Ä–µ</button>            
        </div>
    </div>
</div>

<div id="losegame" class="lose-game-dialog">
    <div>
        <div class="modal-image">            
            <img src="pic/shark_lose.png" alt="lose_game_shark_pic">
        </div>       

        <div class="title_25_circe_extra_bold_red_allcaps">
            <p>–≠—Ö, –±—ã–≤–∞–µ—Ç</p>
        </div>        
             
        <div class="rules-screen-body">
            <p class="text_16_circe_regular_white">–°–µ–≥–æ–¥–Ω—è –≤–æ–ø—Ä–æ—Å—ã –∫–æ–≤–∞—Ä–Ω–µ–µ, —á–µ–º –≤—ã–±–æ—Ä –ø–ª–∞—Ç—å—è.–ù–æ –∑–∞–≤—Ç—Ä–∞ ‚Äì –Ω–æ–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞. –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∑–∞ —Ä–µ–≤–∞–Ω—à–µ–º!</p>
        </div>        
        
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="exit-game-lose" class="button-common button-common-327">–í—ã—Ö–æ–¥</button>            
        </div>
    </div>
</div>

<script>
let currentQuestion = 0;
let hintsUsed = [];
let totalPrize = 0;
let isMusicPlay = true;

let prizeDiscounteLevel = "0";
const goldLevel = "GOLD";
const silverLevel = "SILVER";
const bronzeLevel = "BRONZE";

let timerInterval = null;
const SECONDS_FOR_ONE_QUESTION = 30;
const PRIZE_ONE_QUESTION = 20;
const QUESTION_ALL = 10;
let audioMain = document.getElementById("audioMain");
let audioWin = document.getElementById("audioWin");
let audioTenQuestion = document.getElementById("audioTenQuestion");
let availableQuestionsLight = window.questions_light ? [...window.questions_light] : [];
let availableQuestionsHard = window.questions_hard ? [...window.questions_hard] : [];
let question = null;

document.getElementById('start-game').addEventListener('click', startGame);
document.getElementById('start-game2').addEventListener('click', startGame);
document.getElementById('show-rules').addEventListener('click', showRules);
document.getElementById('show-results').addEventListener('click', showResultScreen);
document.getElementById('music-off').addEventListener('click', switchMusic);


document.getElementById('timer').textContent = SECONDS_FOR_ONE_QUESTION;
document.getElementById("continue-game-btn").addEventListener("click", function () {
    hideDialog(); // –°–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥
    continueGame(); // –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏–≥—Ä—ã
});
document.getElementById("return-game-button").addEventListener("click", hideDialogMisterSuHint);
document.getElementById("return-game-button2").addEventListener("click", continueGame);

document.getElementById("exit-game-lose").addEventListener("click", function () {
    //—Ç—É—Ç –Ω—É–∂–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –∏–≥—Ä—É —Å –ø—Ä–∏–∑–æ–º NONE
    hideDialog()
});

document.querySelectorAll('.btn-main-screen-hint').forEach(button => {
        button.addEventListener('click', () => useHint(button.dataset.hint));
    });
       
    function startGame() {
        document.getElementById("main_questions_screen_id").style.display = "block";
        document.getElementById('start-screen-id').style.display = "none";
        document.getElementById('rules-screen-id').style.display = "none";                
        audioMain.volume = 0.2;
        audioWin.volume = 0.2;
        audioTenQuestion.volume = 0.2;
        audioMain.play();       
        checkGameProgress()
    }

    function showRules() {
        document.getElementById("rules-screen-id").style.display = "block";
        document.getElementById('start-screen-id').style.display = "none";        
        audioMain.volume = 0.2;
        audioWin.volume = 0.2;
        audioTenQuestion.volume = 0.2;
        audioMain.play();               
    }

    
    function startTimer() {
        let timeLeft = SECONDS_FOR_ONE_QUESTION;                
            if (!timerInterval) {
                timerInterval = setInterval(() => {
                    if (timeLeft > 0) {
                        timeLeft--;
                        document.getElementById('timer').innerText = timeLeft;                        
                    } else {
                        resetTimerForNextQuestion()
                        showFinalScreen(false)                        
                    }
                }, 1000);
            }            
        }
    function resetTimerForNextQuestion() {        
        document.getElementById('timer').innerText = SECONDS_FOR_ONE_QUESTION;
        clearInterval(timerInterval);
        timerInterval = null
    }    

    function checkGameProgress () {
        resetTimerForNextQuestion();  
        
        if (currentQuestion >= QUESTION_ALL) {            
            showFinalScreen(true);
            return;
        }

        switch (currentQuestion) {
            case 4:
                showModalDialog(bronzeLevel);                
                break;           
            case 8:                
                showModalDialog(silverLevel);
                break;
            default: nextQuestion()                 
        }        
                
    }

    function nextQuestion() {                       

        console.log(`–∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å —Ñ—É–Ω–∫—Ü–∏—è —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å`);

        if (currentQuestion + 1 === QUESTION_ALL) {
        audioMain.pause()
        audioTenQuestion.play()    
        question = getRandomQuestion(availableQuestionsHard);
        document.getElementById('question_prize_id').textContent = `300 –ë–ê–õ–õ–û–í`;                
        } else {
        question = getRandomQuestion(availableQuestionsLight);
        document.getElementById('question_prize_id').textContent = `${(currentQuestion + 1)*PRIZE_ONE_QUESTION} –ë–ê–õ–õ–û–í`;                
        }               
        document.querySelector('.answers').innerHTML = '';                       
        startTimer()               
        
        document.getElementById('question-text-id').textContent = question.question;
        document.getElementById('question_number_id').textContent = `${currentQuestion + 1} / 10`;  
               
        
        question.answers.forEach(answer => {            
            const button = document.createElement('button');
            button.className = 'answer-button';
            button.textContent = answer;
            button.addEventListener('click', () => checkAnswer(answer, button));
            document.querySelector('.answers').appendChild(button);            
        });           
    }

    function getRandomQuestion(availableQuestions) {
    const index = Math.floor(Math.random() * availableQuestions.length);
    const question = availableQuestions[index]; // –ü–æ–ª—É—á–∞–µ–º –≤–æ–ø—Ä–æ—Å –ø–æ —ç—Ç–æ–º—É –∏–Ω–¥–µ–∫—Å—É    
    availableQuestions.splice(index, 1);
    return question;
    }

    function checkAnswer(answer, button) {        
        button.style.backgroundColor = '#FE961B';
        button.style.transform = 'scale(1.05)';
        button.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.25)';
        button.style.border = '2px solid #FE961B'; // –î–æ–±–∞–≤–ª—è–µ–º –≥—Ä–∞–Ω–∏—Ü—É —Ç–æ–ª—â–∏–Ω–æ–π 2 –ø–∏–∫—Å–µ–ª—è –∏ —Ü–≤–µ—Ç–æ–º #FE961B 

        if (answer === question.correctAnswer) {
            totalPrize += PRIZE_ONE_QUESTION*(currentQuestion+1);
            currentQuestion++;            
            setTimeout(checkGameProgress, 1000);
        } else {            
            showFinalScreen(false);
        }
    }

    function useHint(hintType) {
        if (hintsUsed.includes(hintType)) return;        
                
        switch (hintType) {
            case 'friend':
                hintsUsed.push(hintType);
                addDisableToHintButtons(hintType);
                showHint(question);                
                break;           
            case '5050':
                hintsUsed.push(hintType);
                addDisableToHintButtons(hintType);
                removeTwoWrongAnswers(question);
                break;     

        }
    }

    function addDisableToHintButtons (hintType) {
        const hintButtons = document.querySelectorAll('.btn-main-screen-hint');
        for (let i = 0; i < hintButtons.length; i++) {
            if (hintButtons[i].dataset.hint === hintType) {
                    hintButtons[i].classList.add('disabled');                    
                    break;                                 
            }
        }
    }

    function removeTwoWrongAnswers(question) {        
        const wrongAnswers = question.answers.filter(answer => answer !== question.correctAnswer);
        const randomIndexes = Array.from({length: wrongAnswers.length}, (_, i) => i).sort(() => Math.random() - 0.5).slice(0, 2);

        wrongAnswers.forEach((wrongAnswer, index) => {
            if (randomIndexes.includes(index)) {
                const buttons = document.querySelectorAll('.answer-button');
                buttons.forEach(button => {
                    if (button.textContent === wrongAnswer) {
                        button.style.display = 'none';                        
                    }
                });
            }
        });
    }

    function showResultScreen() {
        document.getElementById("main_questions_screen_id").style.display = "none";
        document.getElementById("game_stage_screen_id").style.display = "block";
    }

    function switchMusic() {
    if (isMusicPlay) {
        audioMain.pause();
        document.getElementById("music-icon").src = "pic/sound_pic_off.png";        
        isMusicPlay = false;
    } else {
        audioMain.play();
        document.getElementById("music-icon").src = "pic/sound_pic_on.png";                
        isMusicPlay = true;
    }
}

    function showFinalScreen(isWin) {
        audioMain.pause()  
        audioTenQuestion.pause()                      
        if(isWin) {            
            audioWin.play()
            showModalDialog(goldLevel);
        } else {   
            document.getElementById("losegame").style.display = "block";          
        }         
    }

    // –ü–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function showModalDialog(level) {

        let textHeaderElement = document.getElementById('modal-header-id');
        let modalTextElement = document.getElementById('modal-text');
        let modalImage = document.getElementById('modal-image-pic');
        document.getElementById("main_questions_screen_id").style.display = "none";
        document.getElementById("—Åongratulations-dialogue").style.display = "block";

        switch (level) {
            case bronzeLevel:
            textHeaderElement.textContent = '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!';
            modalTextElement.textContent = '–¢—ã –¥–æ—à–µ–ª –¥–æ –ø–µ—Ä–≤–æ–π –Ω–µ—Å–≥–æ—Ä–∞–µ–º–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.–ó–∞–±–∏—Ä–∞–µ—à—å –±–∞–ª–ª—ã –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—à—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –≤–æ—è–∂?';
            modalImage.src = 'pic/shark_win.png';  
            prizeDiscounteLevel = bronzeLevel;              
                break;           
            case silverLevel:            
            textHeaderElement.textContent = '–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ!';
            modalTextElement.textContent = '–¢—ã —É–∂–µ –Ω–∞ —Ñ–∏–Ω–∏—à–Ω–æ–π –ø—Ä—è–º–æ–π. –í—Ç–æ—Ä–∞—è –Ω–µ—Å–≥–æ—Ä–∞–µ–º–∞—è —Å—É–º–º–∞ –≤ –∫–∞—Ä–º–∞–Ω–µ. –û—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è –∏ –æ—Ç–ø—Ä–∞–∑–¥–Ω—É–µ–º –∏–ª–∏ –∏–¥–µ–º –Ω–∞ —à—Ç—É—Ä–º –≥–ª–∞–≤–Ω–æ–≥–æ –ø—Ä–∏–∑–∞?';
            modalImage.src = 'pic/shark_win.png';
            prizeDiscounteLevel = silverLevel;              
                break;
            case goldLevel:                            
            document.getElementById('modal-footer-bronze-silver').style.display = 'none';
            document.querySelector('.modal-footer-gold').classList.remove('hidden');
            document.querySelector('.modal-footer-gold').style.display = 'flex';
            document.querySelector('.modal-footer-gold').style.justifyContent = 'center';
            textHeaderElement.textContent = '–ê–ø–ª–æ–¥–∏—Å–º–µ–Ω—Ç—ã!';
            modalTextElement.textContent = '–≠—Ç–æ –ü–û–ë–ï–î–ê! 300 –±–æ–Ω—É—Å–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ç–≤–æ—é –∫–æ–ø–∏–ª–∫—É ;) –¢–≤–æ—è —ç—Ä—É–¥–∏—Ü–∏—è –≥–ª—É–±–∂–µ –ú–∞—Ä–∏–∞–Ω—Å–∫–æ–π –≤–ø–∞–¥–∏–Ω—ã, –∞ —Å–∫–æ—Ä–æ—Å—Ç—å –º—ã—à–ª–µ–Ω–∏—è –±—ã—Å—Ç—Ä–µ–µ —Å–≤–µ—Ä—Ö–∑–≤—É–∫–æ–≤–æ–≥–æ –ª–∞–π–Ω–µ—Ä–∞. –ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è –∑–∞—Å–ª—É–∂–µ–Ω–Ω—ã–º —Ç—Ä–∏—É–º—Ñ–æ–º!';
            modalImage.src = 'pic/shark_win_with_cup.png';                    
            prizeDiscounteLevel = goldLevel;              
                break;    
        }

       
    }
    
function showHint(question) {
    let quetionsVariant = getCurrentQuestionListForHelper(question);
    let randomHintText = quetionsVariant[Math.floor(Math.random() * quetionsVariant.length)];
    document.getElementById("main_questions_screen_id").style.display = "none";
    document.getElementById("sharkhint").style.display = "block";
    document.getElementById('mistersu-hint-text').innerHTML = randomHintText;
}

function getCurrentQuestionListForHelper(question) {
    let correctAnswer = question.correctAnswer

    return friendHints = [
    '–•–º... –ú–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —ç—Ö–æ–ª–æ—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ <strong>' + correctAnswer + '</strong>, –ù–æ –º–æ—Ä–µ –ø–µ—Ä–µ–º–µ–Ω—á–∏–≤–æ... –†–µ—à–∞–π —Å–∞–º, —è –ª–∏—à—å —Å–∫—Ä–æ–º–Ω—ã–π –ø–æ–ø—É—Ç—á–∏–∫.',
    '–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –æ—Ç–≤–µ—Ç ‚Äì <strong>' + correctAnswer + '</strong>. –ù–æ —è –±—ã –Ω–∞ —Ç–≤–æ–µ–º –º–µ—Å—Ç–µ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏–ª –≤—Å–µ –ø–æ –∫–∞—Ä—Ç–µ. –ù—É, –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π.',
    '–ï—Å–ª–∏ –≤–µ—Ä–∏—Ç—å –º–æ–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∞—Ä—Ö–∏–≤–∞–º (–∏ —Ç–æ–º—É, —á—Ç–æ —è –ø–æ–¥—Å–º–æ—Ç—Ä–µ–ª –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —É —Å–æ—Å–µ–¥–∞ –ø–æ –±–∏–∑–Ω–µ—Å-–∫–ª–∞—Å—Å—É), –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äì <strong>' + correctAnswer + '</strong>. –ù–æ –∑–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–µ —Ä—É—á–∞—é—Å—å, —Å–≤—è–∑—å –≤ –ø–æ–ª–µ—Ç–µ —Ç–∞–∫ —Å–µ–±–µ!',
    '–ò–Ω—Ç—É–∏—Ü–∏—è —à–µ–ø—á–µ—Ç –ø—Ä–æ –≤–∞—Ä–∏–∞–Ω—Ç <strong>' + correctAnswer + '</strong>, –Ω–æ –∏–Ω—Ç—É–∏—Ü–∏—è ‚Äì –¥–∞–º–∞ –∫–∞–ø—Ä–∏–∑–Ω–∞—è. –í—á–µ—Ä–∞ –æ–Ω–∞ –æ–±–µ—â–∞–ª–∞ –º–Ω–µ —à—Ç–∏–ª—å, –∞ —è –≤–µ—Å—å –¥–µ–Ω—å –±–æ—Ä–æ–ª—Å—è —Å –≤–æ–ª–Ω–∞–º–∏... ',
    '–í–∏–∂—É... —á—É–≤—Å—Ç–≤—É—é... –ö–∞–∂–µ—Ç—Å—è, —ç—Ç–æ –æ—Ç–≤–µ—Ç ‚Äì <strong>' + correctAnswer + '</strong>. –ù–æ –µ—Å—Ç—å –∫—Ä–æ—à–µ—á–Ω–æ–µ —Å–æ–º–Ω–µ–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä–æ–º —Å –∏–∫—Ä–∏–Ω–∫—É...',
    '–ú–æ–π –º–∞–≥–∏—á–µ—Å–∫–∏–π —Ö—Ä—É—Å—Ç–∞–ª—å–Ω—ã–π —à–∞—Ä (–≤–æ–æ–±—â–µ-—Ç–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∫—Ä—ã—à–∫–∞ –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç <strong>' + correctAnswer + '</strong>. –ù–æ –æ–Ω –Ω–µ–º–Ω–æ–≥–æ –∑–∞–ø–æ—Ç–µ–ª. –ú–æ–∂–µ—Ç, —Ä–∏—Å–∫–Ω–µ–º?',
    '–ú–æ–π —Ä–∞–¥–∞—Ä –∑–∞—Å–µ–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ä–∞–π–æ–Ω–µ ‚Äì <strong>' + correctAnswer + '</strong>. –ü–æ—Ö–æ–∂–µ, —ç—Ç–æ —Ü–µ–ª—å! –ù–æ –±—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω, –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã —Ç—É–º–∞–Ω—ã –∏ —Å–æ–º–Ω–µ–Ω–∏—è.',
    '–ó–Ω–∞–µ—à—å, —è —á–∏—Ç–∞–ª –æ–± —ç—Ç–æ–º –≤ –æ–¥–Ω–æ–º –±–æ—Ä—Ç–æ–≤–æ–º –∂—É—Ä–Ω–∞–ª–µ –º–µ–∂–¥—É —Å—Ç–∞—Ç—å–µ–π –æ –∫–æ—Å–º–µ—Ç–∏–∫–µ –∏ —Ä–µ–∫–ª–∞–º–æ–π —á–∞—Å–æ–≤. –ö–∞–∂–µ—Ç—Å—è, –æ—Ç–≤–µ—Ç ‚Äì <strong>' + correctAnswer + '</strong>, –ò–ª–∏ —ç—Ç–æ –±—ã–ª–∞ —Ü–µ–Ω–∞ –∑–∞ –¥—É—Ö–∏? –í –æ–±—â–µ–º, —è –∑–∞ <strong>' + correctAnswer + '</strong>!',
    '–ò–Ω—Å—Ç–∏–Ω–∫—Ç—ã –∫—Ä–∏—á–∞—Ç "<strong>' + correctAnswer + '</strong>", –Ω–æ –º–æ–∏ –∏–Ω—Å—Ç–∏–Ω–∫—Ç—ã –æ–±—ã—á–Ω–æ –ø—Ä–∏–≤–æ–¥—è—Ç –º–µ–Ω—è –∫ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫—É, –∞ –Ω–µ –∫ –Ω–∞—É—á–Ω—ã–º –æ—Ç–∫—Ä—ã—Ç–∏—è–º. –ü–æ–¥—É–º–∞–π –æ–± —ç—Ç–æ–º.',
    '–°–æ–≥–ª–∞—Å–Ω–æ –º–æ–µ–π —Å–∏—Å—Ç–µ–º–µ (–∑–∞–ø–∏—Å–∞–Ω–Ω–æ–π –Ω–∞ –ø–ª–∞–≤–Ω–∏–∫–µ), –æ—Ç–≤–µ—Ç ‚Äì <strong>' + correctAnswer + '</strong>. –ù–æ —è —Å–ª—É—á–∞–π–Ω–æ —Å—Ç–µ—Ä —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –ø–æ–∫–∞ –Ω—ã—Ä—è–ª. –î–æ–≤–µ—Ä—å—Å—è —Å–≤–æ–µ–º—É —á—É—Ç—å—é!',
    '–õ–æ–≥–∏–∫–∞ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç <strong>' + correctAnswer + '</strong>, –ù–æ –∂–∏–∑–Ω—å –≥–æ—Ä–∞–∑–¥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ —Å—É—Ö–∏—Ö —Ü–∏—Ñ—Ä, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –Ω–∞ –∫–æ–Ω—É —Ç–∞–∫–∏–µ –ø—Ä–∏–∑—ã!'
];
} 

// –°–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function hideDialog() {
    document.getElementById('—Åongratulations-dialogue').style.display = "none";
    document.getElementById('sharkhint').style.display = "none";
    document.getElementById('losegame').style.display = "none";
    document.getElementById('game_stage_screen_id').style.display = "none";
    document.getElementById("main_questions_screen_id").style.display = "block";
    nextQuestion()
    }

function hideDialogMisterSuHint() {
    document.getElementById('sharkhint').style.display = "none";
    document.getElementById("main_questions_screen_id").style.display = "block";
    
    }    

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∏–≥—Ä—ã
    function continueGame() {
        hideDialog(); // –°–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥                   
    }

// –§—É–Ω–∫—Ü–∏—è –∑–∞–±—Ä–∞–Ω–∏—è –ø—Ä–∏–∑–∞
    function claimPrize() {    
    showFinalScreen(true)    
    }   
   
</script>

<script>
    let tg = window.Telegram.WebApp; //–ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç webapp —Ç–µ–ª–µ–≥—Ä–∞–º–∞ 
    tg.expand(); //—Ä–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤—Å–µ –æ–∫–Ω–æ     
          
    document.getElementById('exit-game-lose').addEventListener('click', function(){
      tg.sendData("0");      
    });   

    document.getElementById('btn-modal-dialog-take-prize-bronze-silver').addEventListener('click', function(){
      tg.sendData(prizeDiscounteLevel);      
    });   

    document.getElementById('btn-modal-dialog-take-prize-gold').addEventListener('click', function(){
      tg.sendData(prizeDiscounteLevel);      
    });      
    
 </script>
</body>
</html>